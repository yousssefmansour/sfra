<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Text Scanner</title>
    <style>
        #video {
            width: 100%;
        }
        #canvas {
            display: none;
        }
    </style>
</head>
<body>
    <video id="video" playsinline autoplay></video>
    <canvas id="canvas"></canvas>

    <script src="script.js">
      navigator.mediaDevices.getUserMedia({ video: true })
    .then(function(stream) {
        var video = document.getElementById('video');
        video.srcObject = stream;
        video.onloadedmetadata = function(e) {
            video.play();
        };
    })
    .catch(function(err) {
        console.log("An error occurred: " + err);
    });

// Capture frame from video and process
var video = document.getElementById('video');
var canvas = document.getElementById('canvas');
var context = canvas.getContext('2d');

video.addEventListener('play', function() {
    var $this = this; // Cache the this
    (function loop() {
        if (!$this.paused && !$this.ended) {
            context.drawImage($this, 0, 0, canvas.width, canvas.height);
            // Extract text from the captured frame (you would need to integrate with OCR library or API)
            // For example, using Tesseract.js:
            Tesseract.recognize(canvas)
                .then(function(result) {
                    console.log(result.text); // Output recognized text
                })
                .catch(function(err) {
                    console.error('Error:', err);
                });
            setTimeout(loop, 1000 / 30); // Adjust the delay based on the frame rate
        }
    })();
}, 0);

    </script>
</body>
</html>
